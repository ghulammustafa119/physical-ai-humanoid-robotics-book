"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[822],{3683(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"auth-system","title":"User Authentication & Personalization System","description":"This document describes the user authentication and personalization system implemented for the Physical AI and Humanoid Robotics Book Assistant.","source":"@site/docs/auth-system.md","sourceDirName":".","slug":"/auth-system","permalink":"/physical-ai-humanoid-robotics-book/docs/auth-system","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var t=i(4848),r=i(8453);const l={},a="User Authentication & Personalization System",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Backend Components",id:"backend-components",level:3},{value:"1. Database Schema",id:"1-database-schema",level:4},{value:"2. Services",id:"2-services",level:4},{value:"3. API Endpoints",id:"3-api-endpoints",level:4},{value:"Frontend Components",id:"frontend-components",level:3},{value:"1. Authentication Components",id:"1-authentication-components",level:4},{value:"2. Navigation",id:"2-navigation",level:4},{value:"User Registration Flow",id:"user-registration-flow",level:2},{value:"Authentication Flow",id:"authentication-flow",level:2},{value:"Profile Management",id:"profile-management",level:2},{value:"Personalization Context",id:"personalization-context",level:2},{value:"Context Fields",id:"context-fields",level:3},{value:"RAG Integration",id:"rag-integration",level:3},{value:"Security Features",id:"security-features",level:2},{value:"API Usage Examples",id:"api-usage-examples",level:2},{value:"Register a New User",id:"register-a-new-user",level:3},{value:"Authenticate User",id:"authenticate-user",level:3},{value:"Get User Profile",id:"get-user-profile",level:3},{value:"Update User Profile",id:"update-user-profile",level:3},{value:"Frontend Integration",id:"frontend-integration",level:2},{value:"Using AuthProvider",id:"using-authprovider",level:3},{value:"Testing",id:"testing",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"E2E Tests",id:"e2e-tests",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Database Migrations",id:"database-migrations",level:2},{value:"Profile Completeness Calculation",id:"profile-completeness-calculation",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"user-authentication--personalization-system",children:"User Authentication & Personalization System"})}),"\n",(0,t.jsx)(n.p,{children:"This document describes the user authentication and personalization system implemented for the Physical AI and Humanoid Robotics Book Assistant."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The system provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User registration and authentication"}),"\n",(0,t.jsx)(n.li,{children:"Profile management with background information collection"}),"\n",(0,t.jsx)(n.li,{children:"Personalization context injection into the RAG chatbot"}),"\n",(0,t.jsx)(n.li,{children:"Secure session management"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.h3,{id:"backend-components",children:"Backend Components"}),"\n",(0,t.jsx)(n.h4,{id:"1-database-schema",children:"1. Database Schema"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User Table"}),": Stores user credentials (email, password hash)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session Table"}),": Manages user sessions with tokens and expiration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User Profile Table"}),": Stores user background information"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"2-services",children:"2. Services"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Auth Service"}),": Handles user registration, authentication, and session management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Profile Service"}),": Manages user profile CRUD operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Personalization Service"}),": Creates context objects for RAG integration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RAG Service"}),": Modified to accept and inject personalization context"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"3-api-endpoints",children:"3. API Endpoints"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"POST /api/v1/auth/signup"})," - User registration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"POST /api/v1/auth/signin"})," - User authentication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"POST /api/v1/auth/signout"})," - User logout"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"GET /api/v1/auth/profile"})," - Get user profile"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PUT /api/v1/auth/profile"})," - Update user profile"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"frontend-components",children:"Frontend Components"}),"\n",(0,t.jsx)(n.h4,{id:"1-authentication-components",children:"1. Authentication Components"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SignUp"}),": Registration form with optional profile questions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SignIn"}),": Login form"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Profile"}),": User profile management with edit capabilities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AuthProvider"}),": Context provider for authentication state"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"2-navigation",children:"2. Navigation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AuthNavigation"}),": Conditional navigation based on authentication status"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"user-registration-flow",children:"User Registration Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"User accesses the signup page"}),"\n",(0,t.jsx)(n.li,{children:"User provides email and password"}),"\n",(0,t.jsxs)(n.li,{children:["User optionally provides background information:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Programming experience level"}),"\n",(0,t.jsx)(n.li,{children:"Python experience level"}),"\n",(0,t.jsx)(n.li,{children:"AI/ML experience level"}),"\n",(0,t.jsx)(n.li,{children:"Robotics experience level"}),"\n",(0,t.jsx)(n.li,{children:"System type (laptop, desktop, cloud)"}),"\n",(0,t.jsx)(n.li,{children:"GPU availability"}),"\n",(0,t.jsx)(n.li,{children:"Hardware access"}),"\n",(0,t.jsx)(n.li,{children:"Simulator experience (Gazebo, Isaac Sim, Unity)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Backend creates user account and profile"}),"\n",(0,t.jsx)(n.li,{children:"Session token is generated and stored in localStorage"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"User provides credentials on sign-in page"}),"\n",(0,t.jsx)(n.li,{children:"Backend validates credentials against stored hash"}),"\n",(0,t.jsx)(n.li,{children:"If valid, a new session is created"}),"\n",(0,t.jsx)(n.li,{children:"Session token is returned and stored in localStorage"}),"\n",(0,t.jsx)(n.li,{children:"User is redirected to protected content"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"profile-management",children:"Profile Management"}),"\n",(0,t.jsx)(n.p,{children:"Users can view and update their profile information:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Access profile page after authentication"}),"\n",(0,t.jsx)(n.li,{children:'Click "Edit Profile" button'}),"\n",(0,t.jsx)(n.li,{children:"Update any fields"}),"\n",(0,t.jsx)(n.li,{children:"Save changes to update profile"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"personalization-context",children:"Personalization Context"}),"\n",(0,t.jsx)(n.p,{children:"The system collects user background information to provide personalized responses:"}),"\n",(0,t.jsx)(n.h3,{id:"context-fields",children:"Context Fields"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"programming_level"}),": User's programming experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"python_level"}),": User's Python experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ai_ml_level"}),": User's AI/ML experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"robotics_level"}),": User's robotics experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"system_type"}),": User's system type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gpu_availability"}),": User's GPU availability"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hardware_access"}),": User's hardware access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"simulator_experience"}),": List of simulators user has experience with"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"profile_completeness"}),": Percentage of profile completion"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"rag-integration",children:"RAG Integration"}),"\n",(0,t.jsx)(n.p,{children:"The personalization context is injected into chatbot prompts to provide tailored responses based on user background."}),"\n",(0,t.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Passwords are hashed using bcrypt"}),"\n",(0,t.jsx)(n.li,{children:"Sessions use secure tokens"}),"\n",(0,t.jsx)(n.li,{children:"API endpoints are protected by authentication middleware"}),"\n",(0,t.jsx)(n.li,{children:"Password requirements: minimum 8 characters"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"api-usage-examples",children:"API Usage Examples"}),"\n",(0,t.jsx)(n.h3,{id:"register-a-new-user",children:"Register a New User"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:8000/api/v1/auth/signup \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "email": "user@example.com",\n    "password": "SecurePassword123!",\n    "profile": {\n      "programming_level": "intermediate",\n      "python_level": "strong",\n      "ai_ml_level": "applied",\n      "robotics_level": "practical",\n      "system_type": "desktop",\n      "gpu_availability": "nvidia_cuda",\n      "hardware_access": "real",\n      "simulator_experience": ["gazebo", "isaac_sim"]\n    }\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"authenticate-user",children:"Authenticate User"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:8000/api/v1/auth/signin \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "email": "user@example.com",\n    "password": "SecurePassword123!"\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"get-user-profile",children:"Get User Profile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X GET http://localhost:8000/api/v1/auth/profile \\\n  -H "Authorization: Bearer <session_token>"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"update-user-profile",children:"Update User Profile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X PUT http://localhost:8000/api/v1/auth/profile \\\n  -H "Authorization: Bearer <session_token>" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "programming_level": "advanced"\n  }\'\n'})}),"\n",(0,t.jsx)(n.h2,{id:"frontend-integration",children:"Frontend Integration"}),"\n",(0,t.jsx)(n.h3,{id:"using-authprovider",children:"Using AuthProvider"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { AuthProvider, useAuth } from './components/auth/AuthProvider';\n\n// Wrap your app with AuthProvider\nfunction App() {\n  return (\n    <AuthProvider>\n      {/* Your app content */}\n    </AuthProvider>\n  );\n}\n\n// Use authentication context in components\nfunction MyComponent() {\n  const { user, loading, signIn, signOut } = useAuth();\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      {user ? (\n        <div>Welcome, {user.email}!</div>\n      ) : (\n        <button onClick={() => signIn('email', 'password')}>\n          Sign In\n        </button>\n      )}\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Backend services are tested with pytest"}),"\n",(0,t.jsx)(n.li,{children:"API endpoints are tested with FastAPI TestClient"}),"\n",(0,t.jsx)(n.li,{children:"Frontend components can be tested with React Testing Library"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"e2e-tests",children:"E2E Tests"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Playwright tests for complete authentication flows"}),"\n",(0,t.jsx)(n.li,{children:"API tests for backend endpoints"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsx)(n.p,{children:"The system uses the following environment variables:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"# Database\nDATABASE_URL=postgresql://user:password@localhost/dbname\n\n# Authentication\nSECRET_KEY=your-secret-key-here\nALGORITHM=HS256\nACCESS_TOKEN_EXPIRE_MINUTES=30\n\n# AI Services\nGOOGLE_GEMINI_API_KEY=your-gemini-api-key\n"})}),"\n",(0,t.jsx)(n.h2,{id:"database-migrations",children:"Database Migrations"}),"\n",(0,t.jsx)(n.p,{children:"The initial database schema is created via the migration file:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"backend/src/db/migrations/001_create_auth_tables.sql"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"profile-completeness-calculation",children:"Profile Completeness Calculation"}),"\n",(0,t.jsx)(n.p,{children:"The system calculates profile completeness as the percentage of required fields filled out:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"8 main profile fields are considered"}),"\n",(0,t.jsx)(n.li,{children:"Completeness = (number of filled fields) / (total fields) * 100"}),"\n",(0,t.jsx)(n.li,{children:"Used to encourage users to complete their profiles"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);